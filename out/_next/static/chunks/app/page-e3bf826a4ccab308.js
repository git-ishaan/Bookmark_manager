(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2480:function(){},4759:function(e,t,r){Promise.resolve().then(r.bind(r,3599))},3599:function(e,t,r){"use strict";let a;r.r(t),r.d(t,{default:function(){return Q}});var s=r(7437),l=r(2265),i=r(7256),d=r(9213),n=r(7042),o=r(4769);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,n.W)(t))}let u=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=l.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...n}=e,o=d?i.g7:"button";return(0,s.jsx)(o,{className:c(u({variant:a,size:l,className:r})),ref:t,...n})});f.displayName="Button";var m=r(7158),x=r(4248),p=r(5818),h=r(5367),g=r(9864),b=r(7837),y=r(2549);let j=b.fC,v=b.xz,N=b.h_;b.x8;let w=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.aV,{ref:t,className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});w.displayName=b.aV.displayName;let k=l.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,s.jsxs)(N,{children:[(0,s.jsx)(w,{}),(0,s.jsxs)(b.VY,{ref:t,className:c("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...l,children:[a,(0,s.jsxs)(b.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(y.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});k.displayName=b.VY.displayName;let C=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:c("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};C.displayName="DialogHeader";let A=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.Dx,{ref:t,className:c("text-lg font-semibold leading-none tracking-tight",r),...a})});A.displayName=b.Dx.displayName;let F=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.dk,{ref:t,className:c("text-sm text-muted-foreground",r),...a})});F.displayName=b.dk.displayName;let R=l.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});R.displayName="Input";var S=r(6743);let B=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),I=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(S.f,{ref:t,className:c(B(),r),...a})});I.displayName=S.f.displayName;let z=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:c("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});z.displayName="Textarea",r(9534);let D=l.forwardRef((e,t)=>{let{...r}=e;return(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...r})});D.displayName="Breadcrumb";let _=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("ol",{ref:t,className:c("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",r),...a})});_.displayName="BreadcrumbList";let E=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("li",{ref:t,className:c("inline-flex items-center gap-1.5",r),...a})});E.displayName="BreadcrumbItem";let Z=l.forwardRef((e,t)=>{let{asChild:r,className:a,...l}=e,d=r?i.g7:"a";return(0,s.jsx)(d,{ref:t,className:c("transition-colors hover:text-foreground",a),...l})});Z.displayName="BreadcrumbLink";let O=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:c("font-normal text-foreground",r),...a})});O.displayName="BreadcrumbPage";var U=r(1424),V=r(7808),P=r(4155),L=r.n(P);let H="your-secret-key",J=e=>L().AES.encrypt(JSON.stringify(e),H).toString(),M=e=>{let t=L().AES.decrypt(e,H);return JSON.parse(t.toString(L().enc.Utf8))},T=async()=>{a=await (0,V.X3)("bookmarks-db",1,{upgrade(e){e.createObjectStore("folders",{keyPath:"id"});let t=e.createObjectStore("bookmarks",{keyPath:"id"});t.createIndex("by-folder","folderId")}})},Y=async e=>{let t={id:crypto.randomUUID(),name:J(e),createdAt:Date.now()};return await a.add("folders",t),{...t,name:M(t.name)}},W=async()=>{let e=await a.getAll("folders");return e.map(e=>({...e,name:M(e.name)}))},X=async e=>{let t=await a.getAllFromIndex("bookmarks","by-folder",e);if(t.length>0)throw Error("Folder is not empty");await a.delete("folders",e)},q=async e=>{let t={id:crypto.randomUUID(),folderId:e.folderId,title:J(e.title),url:J(e.url),description:J(e.description),createdAt:Date.now()};return await a.add("bookmarks",t),{...t,title:M(t.title),url:M(t.url),description:M(t.description)}},G=async e=>{let t=await a.getAllFromIndex("bookmarks","by-folder",e);return t.map(e=>({...e,title:M(e.title),url:M(e.url),description:M(e.description)}))},K=async e=>{await a.delete("bookmarks",e)};function Q(){let[e,t]=(0,l.useState)([]),[r,a]=(0,l.useState)([]),[i,d]=(0,l.useState)(null),[n,o]=(0,l.useState)(""),[c,u]=(0,l.useState)({title:"",url:"",description:""});(0,l.useEffect)(()=>{let e=async()=>{await T();let e=await W();t(e)};e()},[]);let b=async()=>{try{let r=await Y(n);t([...e,r]),o(""),U.Am.success("Folder created successfully!")}catch(e){U.Am.error("Failed to create folder")}},y=async()=>{if(i)try{let e=await q({...c,folderId:i.id});a([...r,e]),u({title:"",url:"",description:""}),U.Am.success("Bookmark created successfully!")}catch(e){U.Am.error("Failed to create bookmark")}},N=async r=>{try{await X(r),t(e.filter(e=>e.id!==r)),(null==i?void 0:i.id)===r&&(d(null),a([])),U.Am.success("Folder deleted successfully!")}catch(e){U.Am.error("Failed to delete folder. Make sure it's empty first!")}},w=async e=>{try{await K(e),a(r.filter(t=>t.id!==e)),U.Am.success("Bookmark deleted successfully!")}catch(e){U.Am.error("Failed to delete bookmark")}},F=async e=>{d(e);let t=await G(e.id);a(t)};return(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)(D,{children:[(0,s.jsx)(E,{children:(0,s.jsx)(Z,{onClick:()=>d(null),children:"Home"})}),i&&(0,s.jsxs)(E,{children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),(0,s.jsx)(Z,{children:i.name})]})]})}),(0,s.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:i?i.name:"My Bookmarks"}),(0,s.jsxs)(j,{children:[(0,s.jsx)(v,{asChild:!0,children:(0,s.jsxs)(f,{children:[(0,s.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),i?"Add Bookmark":"New Folder"]})}),(0,s.jsxs)(k,{children:[(0,s.jsx)(C,{children:(0,s.jsx)(A,{children:i?"Create New Bookmark":"Create New Folder"})}),i?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(I,{htmlFor:"title",children:"Title"}),(0,s.jsx)(R,{id:"title",value:c.title,onChange:e=>u({...c,title:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(I,{htmlFor:"url",children:"URL"}),(0,s.jsx)(R,{id:"url",value:c.url,onChange:e=>u({...c,url:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(I,{htmlFor:"description",children:"Description"}),(0,s.jsx)(z,{id:"description",value:c.description,onChange:e=>u({...c,description:e.target.value})})]}),(0,s.jsx)(f,{onClick:y,children:"Create Bookmark"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(I,{htmlFor:"folderName",children:"Folder Name"}),(0,s.jsx)(R,{id:"folderName",value:n,onChange:e=>o(e.target.value)})]}),(0,s.jsx)(f,{onClick:b,children:"Create Folder"})]})]})]})]}),i?(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,s.jsx)("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(g.Z,{className:"h-5 w-5 mr-2"}),(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"font-medium hover:underline",children:e.title})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),(0,s.jsx)(f,{variant:"ghost",size:"icon",onClick:()=>w(e.id),children:(0,s.jsx)(h.Z,{className:"h-4 w-4"})})]})},e.id))}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.map(e=>(0,s.jsx)("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>F(e),children:[(0,s.jsx)(p.Z,{className:"h-5 w-5 mr-2"}),(0,s.jsx)("span",{children:e.name})]}),(0,s.jsx)(f,{variant:"ghost",size:"icon",onClick:()=>N(e.id),children:(0,s.jsx)(h.Z,{className:"h-4 w-4"})})]})},e.id))})]})}}},function(e){e.O(0,[465,971,864,744],function(){return e(e.s=4759)}),_N_E=e.O()}]);